{"version":3,"sources":["../../src/containers/admin_layout.js"],"names":["composer","onData","context","mainLayoutMapper","adminContext","components","mainLayout","NotAllowedWrapper","MainLayout","depsMapper","adminConfig","config"],"mappings":";;;;;;;AAAA;;AAEA;;;;AACA;;;;AACA;;;;;;AAEO,IAAMA,8BAAW,SAAXA,QAAW,OAAcC,MAAd,EAAyB;AAAA,MAAtBC,OAAsB,QAAtBA,OAAsB;;AAC/CD,SAAO,IAAP,EAAa,EAAb;AACD,CAFM;;AAIP;;;;;AAKO,IAAME,8CAAmB,SAAnBA,gBAAmB;AAAA,SAC9B,CAAC,CAACD,OAAF,IACA,CAAC,CAACA,QAAQE,YADV,IAEA,CAAC,CAACF,QAAQE,YAAR,CAAqBC,UAFvB,IAGAH,QAAQE,YAAR,CAAqBC,UAArB,CAAgCC,UAJF;AAAA,CAAzB;;AAMP;;;AAGA,IAAMC,oBAAoB,yBAAQ;AAAA,SAAY;AAC5CC,gBAAYL,iBAAiBD,OAAjB;AADgC,GAAZ;AAAA,CAAR,wBAA1B;;AAIO,IAAMO,kCAAa,SAAbA,UAAa;AAAA,SAAY;AACpCP,aAAS;AAAA,aAAMA,QAAN;AAAA,KAD2B;AAEpCM,gBAAYL,iBAAiBD,QAAjB,CAFwB;AAGpCQ,iBAAaR,SAAQE,YAAR,CAAqBO;AAHE,GAAZ;AAAA,CAAnB;;kBAMQ,4BACb,oCAAmBX,QAAnB,CADa,EAEb,iCAAgB,OAAhB,EAAyBO,iBAAzB,CAFa,EAGb,yBAAQE,UAAR,CAHa,yB","file":"admin_layout.js","sourcesContent":["import { useDeps, composeAll, composeWithTracker } from 'mantra-core';\nimport _ from 'lodash/fp';\nimport AdminLayout from '../components/admin_layout';\nimport restrictToRoles from '../hocs/restrict_to_roles';\nimport NotAllowed from '../components/not_allowed';\n\nexport const composer = ({ context }, onData) => {\n  onData(null, {});\n};\n\n/**\n * Returns the main layout defined in the admin context.\n * Returns false if not defined.\n * @param {} context\n */\nexport const mainLayoutMapper = context =>\n  !!context &&\n  !!context.adminContext &&\n  !!context.adminContext.components &&\n  context.adminContext.components.mainLayout;\n\n/**\n * NotAllowed wrapper providing a main layout reference.\n */\nconst NotAllowedWrapper = useDeps(context => ({\n  MainLayout: mainLayoutMapper(context),\n}))(NotAllowed);\n\nexport const depsMapper = context => ({\n  context: () => context,\n  MainLayout: mainLayoutMapper(context),\n  adminConfig: context.adminContext.config,\n});\n\nexport default composeAll(\n  composeWithTracker(composer),\n  restrictToRoles('admin', NotAllowedWrapper),\n  useDeps(depsMapper),\n)(AdminLayout);\n"]}